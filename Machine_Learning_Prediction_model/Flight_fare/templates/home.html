<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Fare Predictor - AI Powered Price Estimation</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2563eb;
            --primary-dark: #1d4ed8;
            --primary-light: #3b82f6;
            --secondary-color: #7c3aed;
            --accent-color: #06b6d4;
            --success-color: #059669;
            --warning-color: #d97706;
            --error-color: #dc2626;
            --text-primary: #111827 !important;
            --text-secondary: #374151 !important;
            --text-light: #4b5563 !important;
            --bg-primary: #f8fafc;
            --bg-card: #ffffff;
            --bg-section: #f9fafb;
            --border-color: #d1d5db;
            --border-light: #e5e7eb;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
            --glass-bg: rgba(255, 255, 255, 0.95);
            --glass-border: rgba(255, 255, 255, 0.2);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #48cae4 100%);
            background-attachment: fixed;
            min-height: 100vh;
            color: #111827 !important;
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }

        /* Force dark text on all elements */
        * {
            color: inherit;
        }

        .form-container,
        .form-section,
        .section-title,
        label,
        select,
        input,
        .info-card h4,
        .info-card p {
            color: #111827 !important;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 24px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            box-shadow: var(--shadow-xl), inset 0 1px 0 rgba(255, 255, 255, 0.6);
            overflow: hidden;
            border: 1px solid var(--glass-border);
            width: 100%;
            max-width: 900px;
            position: relative;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--accent-color));
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            color: white;
            text-align: center;
            padding: 48px 40px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: float 20s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translate(-50%, -50%) rotate(0deg); }
            33% { transform: translate(-40%, -60%) rotate(120deg); }
            66% { transform: translate(-60%, -40%) rotate(240deg); }
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        .header h1 {
            font-size: clamp(2rem, 4vw, 2.75rem);
            font-weight: 800;
            margin-bottom: 12px;
            letter-spacing: -0.025em;
        }

        .header p {
            font-size: 1.125rem;
            opacity: 0.95;
            font-weight: 400;
            max-width: 500px;
            margin: 0 auto;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 16px;
            border-radius: 50px;
            font-size: 0.875rem;
            font-weight: 600;
            margin-top: 16px;
            backdrop-filter: blur(10px);
        }

        .badge i {
            margin-right: 8px;
        }

        .form-container {
            padding: 48px 40px;
            background: var(--bg-card);
        }

        .form-section {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 32px;
            margin-bottom: 24px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            position: relative;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .form-section:hover {
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transform: translateY(-2px);
        }

        .section-title {
            display: flex;
            align-items: center;
            font-size: 1.375rem;
            font-weight: 800;
            color: #111827 !important;
            margin-bottom: 28px;
            padding-bottom: 16px;
            border-bottom: 3px solid;
            border-image: linear-gradient(90deg, var(--primary-color), var(--secondary-color)) 1;
            position: relative;
        }

        .section-title i {
            margin-right: 12px;
            color: var(--primary-color) !important;
            font-size: 1.5rem;
        }

        .section-title i {
            margin-right: 12px;
            color: var(--primary-color);
            font-size: 1.5rem;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
        }

        .form-group {
            margin-bottom: 24px;
            position: relative;
        }

        .form-group:last-child {
            margin-bottom: 0;
        }

        label {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            font-weight: 700;
            color: #111827 !important;
            font-size: 0.95rem;
            text-transform: none;
            letter-spacing: 0.025em;
        }

        label i {
            margin-right: 8px;
            color: var(--primary-color) !important;
            font-size: 1rem;
        }

        select, input {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid var(--border-light);
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 500;
            background: rgba(255, 255, 255, 0.95) !important;
            color: #111827 !important;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            appearance: none;
            position: relative;
            backdrop-filter: blur(5px);
        }

        select {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%234b5563' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 16px center;
            background-repeat: no-repeat;
            background-size: 16px;
            padding-right: 56px;
            cursor: pointer;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1), 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            transform: translateY(-1px);
        }

        select:hover, input:hover {
            border-color: var(--primary-light);
            background: rgba(255, 255, 255, 0.95);
        }

        select option {
            background: white;
            color: var(--text-primary);
            padding: 12px;
            font-weight: 500;
        }

        .input-icon {
            position: relative;
        }

        .input-icon i {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            z-index: 1;
        }

        .input-icon input {
            padding-left: 48px;
        }

        .btn {
            width: 100%;
            padding: 20px 32px;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 50%, var(--secondary-color) 100%);
            color: white;
            border: none;
            border-radius: 16px;
            font-size: 1.125rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: none;
            letter-spacing: 0.025em;
            margin-top: 32px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s ease;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(37, 99, 235, 0.4), 0 4px 6px rgba(0, 0, 0, 0.1);
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary-color) 50%, var(--secondary-color) 100%);
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:active {
            transform: translateY(-1px);
            transition: transform 0.1s ease;
        }

        .btn:disabled {
            opacity: 0.8;
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .btn i {
            margin-right: 10px;
            font-size: 1.2rem;
        }

        .result {
            margin-top: 32px;
            padding: 28px 32px;
            background: linear-gradient(135deg, var(--success-color) 0%, #059669 100%);
            color: white;
            border-radius: 16px;
            text-align: center;
            font-size: 1.375rem;
            font-weight: 700;
            box-shadow: var(--shadow-lg);
            position: relative;
            overflow: hidden;
            animation: slideInUp 0.5s ease-out;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%, transparent 75%, rgba(255,255,255,0.1) 75%);
            background-size: 20px 20px;
            animation: move 2s linear infinite;
        }

        @keyframes move {
            0% { background-position: 0 0; }
            100% { background-position: 20px 20px; }
        }

        .result-content {
            position: relative;
            z-index: 1;
        }

        .result i {
            font-size: 2rem;
            margin-bottom: 12px;
            display: block;
        }

        .info-card {
            background: linear-gradient(135deg, rgba(255, 247, 210, 0.9) 0%, rgba(254, 240, 138, 0.9) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(217, 119, 6, 0.2);
            border-radius: 16px;
            padding: 24px;
            margin-top: 24px;
            position: relative;
            overflow: hidden;
        }

        .info-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(to bottom, var(--warning-color), #f59e0b);
        }

        .info-card-content {
            margin-left: 20px;
        }

        .info-card h4 {
            font-weight: 700;
            color: #92400e !important;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            font-size: 1.1rem;
        }

        .info-card h4 i {
            margin-right: 10px;
            color: var(--warning-color) !important;
        }

        .info-card p {
            color: #78350f !important;
            font-size: 0.9rem;
            line-height: 1.6;
            font-weight: 500;
        }

        /* Override any inherited white text */
        .form-container * {
            color: #111827 !important;
        }

        .form-container select,
        .form-container input,
        .form-container label,
        .form-container .section-title {
            color: #111827 !important;
        }

        /* Header text stays white */
        .header,
        .header *,
        .btn,
        .btn *,
        .result,
        .result * {
            color: white !important;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-right: 8px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .container {
                padding: 12px;
            }
            
            .form-container {
                padding: 32px 24px;
            }
            
            .form-section {
                padding: 24px 20px;
            }
            
            .header {
                padding: 32px 24px;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        /* Dark mode support */
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-primary: #0f172a;
                --bg-card: #1e293b;
                --text-primary: #f1f5f9;
                --text-secondary: #94a3b8;
                --border-color: #334155;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <div class="header">
                <div class="header-content">
                    <h1><i class="fas fa-plane"></i> Flight Fare Predictor</h1>
                    <p>Get accurate flight price predictions powered by advanced Machine Learning algorithms</p>
                    <div class="badge">
                        <i class="fas fa-robot"></i>
                        Created by Rohini Bawake
                    </div>
                </div>
            </div>

            <div class="form-container">
                <form method="POST" action="/predict" id="predictionForm">
                    <!-- Flight Details Section -->
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-plane-departure"></i>
                            Flight Information
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="airline">
                                    <i class="fas fa-building"></i> Airline
                                </label>
                                <select name="airline" id="airline" required>
                                    <option value="">Select Airline</option>
                                    <option value="SpiceJet">SpiceJet</option>
                                    <option value="AirAsia">AirAsia</option>
                                    <option value="Vistara">Vistara</option>
                                    <option value="GO_FIRST">GO FIRST</option>
                                    <option value="Indigo">IndiGo</option>
                                    <option value="Air_India">Air India</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="class">
                                    <i class="fas fa-crown"></i> Travel Class
                                </label>
                                <select name="class" id="class" required>
                                    <option value="">Select Class</option>
                                    <option value="Economy">Economy</option>
                                    <option value="Business">Business</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-grid">
                            <div class="form-group">
                                <label for="stops">
                                    <i class="fas fa-route"></i> Stops
                                </label>
                                <select name="stops" id="stops" required>
                                    <option value="">Select Stops</option>
                                    <option value="zero">Non-Stop Direct Flight</option>
                                    <option value="one">1 Stop</option>
                                    <option value="two_or_more">2+ Stops</option>
                                    <option value="two_or_more">3+ Stops</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="duration">
                                    <i class="fas fa-clock"></i> Duration (Hours)
                                </label>
                                <div class="input-icon">
                                    <i class="fas fa-hourglass-half"></i>
                                    <input type="number" name="duration" id="duration" step="0.1" min="0.5" max="24" placeholder="input your time" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="flight">
                                <i class="fas fa-ticket-alt"></i> Flight Number (Auto-generated)
                            </label>
                            <div class="input-icon">
                                <i class="fas fa-plane"></i>
                                <input type="text" name="flight" id="flight" placeholder="Will be auto-generated" value="FL-001" readonly>
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="btn" id="predictBtn">
                        <i class="fas fa-magic"></i> Predict Flight Fare
                    </button>
                </form>

                {% if prediction_text %}
                <div class="result">
                    <div class="result-content">
                        <i class="fas fa-chart-line"></i>
                        {{ prediction_text }}
                    </div>
                </div>
                {% endif %}
                
                <div class="info-card">
                    <div class="info-card-content">
                        <h4><i class="fas fa-info-circle"></i> About This Prediction</h4>
                        <p>This AI model analyzes airline, class, stops, and duration to provide accurate fare estimates. Predictions are based on historical flight data and market trends. Actual prices may vary based on demand, seasonality, and booking timing.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Form submission handling
        document.getElementById('predictionForm').addEventListener('submit', function(e) {
            const submitBtn = document.getElementById('predictBtn');
            submitBtn.innerHTML = '<span class="loading"></span>Analyzing Flight Data...';
            submitBtn.disabled = true;
        });

        // Reset button text on page load
        window.addEventListener('load', function() {
            const submitBtn = document.getElementById('predictBtn');
            if (submitBtn) {
                submitBtn.innerHTML = '<i class="fas fa-magic"></i> Predict Flight Fare';
                submitBtn.disabled = false;
            }
        });

        // Auto-generate flight number based on airline with animation
        document.getElementById('airline').addEventListener('change', function() {
            const airline = this.value;
            const flightInput = document.getElementById('flight');
            
            const prefixes = {
                'SpiceJet': 'SG',
                'AirAsia': 'I5',
                'Vistara': 'UK',
                'GO_FIRST': 'G8',
                'Indigo': '6E',
                'Air_India': 'AI'
            };
            
            if (airline && prefixes[airline]) {
                // Add loading effect
                flightInput.style.opacity = '0.5';
                
                setTimeout(() => {
                    const randomNum = Math.floor(Math.random() * 9000) + 1000;
                    flightInput.value = `${prefixes[airline]}-${randomNum}`;
                    flightInput.style.opacity = '1';
                    
                    // Add a subtle flash effect
                    flightInput.style.background = 'rgba(59, 130, 246, 0.1)';
                    setTimeout(() => {
                        flightInput.style.background = 'white';
                    }, 300);
                }, 200);
            }
        });

        // Form validation with visual feedback
        const requiredFields = document.querySelectorAll('[required]');
        requiredFields.forEach(field => {
            field.addEventListener('blur', function() {
                if (this.value === '') {
                    this.style.borderColor = 'var(--error-color)';
                    this.style.boxShadow = '0 0 0 4px rgba(239, 68, 68, 0.1)';
                } else {
                    this.style.borderColor = 'var(--success-color)';
                    this.style.boxShadow = '0 0 0 4px rgba(16, 185, 129, 0.1)';
                }
            });
        });

        // Add floating animation to form sections
        const formSections = document.querySelectorAll('.form-section');
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        formSections.forEach(section => {
            section.style.opacity = '0';
            section.style.transform = 'translateY(20px)';
            section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(section);
        });
    </script>
</body>
</html>